(
    stat_ids: [
        (name: "max_life_base", aggregation: Sum),
        (name: "max_life_increased", aggregation: Sum),
        (name: "max_life_more", aggregation: Product),
        (name: "max_life", aggregation: Standard(
            base: "max_life_base",
            increased: "max_life_increased",
            more: Some("max_life_more"),
        )),

        (name: "max_mana_base", aggregation: Sum),
        (name: "max_mana_increased", aggregation: Sum),
        (name: "max_mana", aggregation: Standard(
            base: "max_mana_base",
            increased: "max_mana_increased",
        )),

        (name: "physical_damage_base", aggregation: Sum),
        (name: "physical_damage_increased", aggregation: Sum),
        (name: "physical_damage_more", aggregation: Product),

        (name: "movement_speed_base", aggregation: Sum),
        (name: "movement_speed_increased", aggregation: Sum),
        (name: "movement_speed", aggregation: Standard(
            base: "movement_speed_base",
            increased: "movement_speed_increased",
        )),

        (name: "projectile_speed_increased", aggregation: Sum),
        (name: "projectile_count", aggregation: Sum),

        (name: "crit_chance_base", aggregation: Sum),
        (name: "crit_chance_increased", aggregation: Sum),
        (name: "crit_chance", aggregation: Custom),
        (name: "crit_multiplier", aggregation: Sum),

        (name: "area_of_effect_increased", aggregation: Sum),
        (name: "duration_increased", aggregation: Sum),
    ],
    calculators: [
        (
            stat: "crit_chance",
            formula: Clamp(
                value: Mul(
                    Stat("crit_chance_base"),
                    Add(Constant(1.0), Stat("crit_chance_increased")),
                ),
                min: 0.0,
                max: 1.0,
            ),
            depends_on: ["crit_chance_base", "crit_chance_increased"],
        ),
    ],
    display: [
        (stats: ["physical_damage_base"], format: "[+{0}] physical damage"),
        (stats: ["physical_damage_increased"], format: "[+{0}%] physical damage"),
        (stats: ["max_life_base"], format: "[+{0}] max life"),
        (stats: ["max_life_increased"], format: "[+{0}%] max life"),
        (stats: ["movement_speed_base"], format: "[+{0}] movement speed"),
        (stats: ["movement_speed_increased"], format: "[+{0}%] movement speed"),
        (stats: ["crit_chance_base"], format: "[+{0}%] crit chance"),
        (stats: ["crit_multiplier"], format: "[+{0}%] crit multiplier"),
        (stats: ["projectile_speed_increased"], format: "[+{0}%] projectile speed"),
        (stats: ["projectile_count"], format: "[+{0}] projectile"),
        (stats: ["max_mana_base"], format: "[+{0}] max mana"),
        (stats: ["max_mana_increased"], format: "[+{0}%] max mana"),
        (stats: ["area_of_effect_increased"], format: "[+{0}%] area of effect"),
        (stats: ["duration_increased"], format: "[+{0}%] duration"),
    ],
)
